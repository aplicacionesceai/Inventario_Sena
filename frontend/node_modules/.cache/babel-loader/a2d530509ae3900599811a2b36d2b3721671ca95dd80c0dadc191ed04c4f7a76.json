{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport api from '../services/api';\nconst useHomeStats = () => {\n  _s();\n  const [stats, setStats] = useState({\n    consumoTotal: 0,\n    registrosHoy: 0,\n    centrosActivos: 0,\n    usuariosActivos: 0,\n    loading: true,\n    error: null,\n    lastUpdated: null\n  });\n  const fetchStats = async () => {\n    try {\n      const response = await api.get('/estadisticas/home/');\n      setStats({\n        consumoTotal: response.data.consumo_total,\n        registrosHoy: response.data.registros_hoy,\n        centrosActivos: response.data.centros_activos,\n        usuariosActivos: response.data.usuarios_activos,\n        lastUpdated: response.data.ultima_actualizacion,\n        loading: false,\n        error: null\n      });\n    } catch (err) {\n      setStats(prev => {\n        var _err$response;\n        return {\n          ...prev,\n          loading: false,\n          error: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message\n        };\n      });\n    }\n  };\n  useEffect(() => {\n    fetchStats();\n\n    // Opcional: Actualizar cada 5 minutos\n    const interval = setInterval(fetchStats, 300000);\n    return () => clearInterval(interval);\n  }, []);\n  return {\n    ...stats,\n    refresh: fetchStats\n  };\n};\n_s(useHomeStats, \"WkUPHb8IsWRkmAhPeQZRspWuQw8=\");\nexport default useHomeStats;","map":{"version":3,"names":["useState","useEffect","api","useHomeStats","_s","stats","setStats","consumoTotal","registrosHoy","centrosActivos","usuariosActivos","loading","error","lastUpdated","fetchStats","response","get","data","consumo_total","registros_hoy","centros_activos","usuarios_activos","ultima_actualizacion","err","prev","_err$response","message","interval","setInterval","clearInterval","refresh"],"sources":["C:/Users/SENA/Documents/GitHub/Sena_Inventario/recursos/frontend/src/hooks/UseHomeStats.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\n\r\nconst useHomeStats = () => {\r\n  const [stats, setStats] = useState({\r\n    consumoTotal: 0,\r\n    registrosHoy: 0,\r\n    centrosActivos: 0,\r\n    usuariosActivos: 0,\r\n    loading: true,\r\n    error: null,\r\n    lastUpdated: null\r\n  });\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await api.get('/estadisticas/home/');\r\n      setStats({\r\n        consumoTotal: response.data.consumo_total,\r\n        registrosHoy: response.data.registros_hoy,\r\n        centrosActivos: response.data.centros_activos,\r\n        usuariosActivos: response.data.usuarios_activos,\r\n        lastUpdated: response.data.ultima_actualizacion,\r\n        loading: false,\r\n        error: null\r\n      });\r\n    } catch (err) {\r\n      setStats(prev => ({\r\n        ...prev,\r\n        loading: false,\r\n        error: err.response?.data || err.message\r\n      }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n    \r\n    // Opcional: Actualizar cada 5 minutos\r\n    const interval = setInterval(fetchStats, 300000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return { ...stats, refresh: fetchStats };\r\n};\r\n\r\nexport default useHomeStats;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,GAAG,MAAM,iBAAiB;AAEjC,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC;IACjCO,YAAY,EAAE,CAAC;IACfC,YAAY,EAAE,CAAC;IACfC,cAAc,EAAE,CAAC;IACjBC,eAAe,EAAE,CAAC;IAClBC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE,IAAI;IACXC,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,qBAAqB,CAAC;MACrDV,QAAQ,CAAC;QACPC,YAAY,EAAEQ,QAAQ,CAACE,IAAI,CAACC,aAAa;QACzCV,YAAY,EAAEO,QAAQ,CAACE,IAAI,CAACE,aAAa;QACzCV,cAAc,EAAEM,QAAQ,CAACE,IAAI,CAACG,eAAe;QAC7CV,eAAe,EAAEK,QAAQ,CAACE,IAAI,CAACI,gBAAgB;QAC/CR,WAAW,EAAEE,QAAQ,CAACE,IAAI,CAACK,oBAAoB;QAC/CX,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZjB,QAAQ,CAACkB,IAAI;QAAA,IAAAC,aAAA;QAAA,OAAK;UAChB,GAAGD,IAAI;UACPb,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE,EAAAa,aAAA,GAAAF,GAAG,CAACR,QAAQ,cAAAU,aAAA,uBAAZA,aAAA,CAAcR,IAAI,KAAIM,GAAG,CAACG;QACnC,CAAC;MAAA,CAAC,CAAC;IACL;EACF,CAAC;EAEDzB,SAAS,CAAC,MAAM;IACda,UAAU,CAAC,CAAC;;IAEZ;IACA,MAAMa,QAAQ,GAAGC,WAAW,CAACd,UAAU,EAAE,MAAM,CAAC;IAChD,OAAO,MAAMe,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAE,GAAGtB,KAAK;IAAEyB,OAAO,EAAEhB;EAAW,CAAC;AAC1C,CAAC;AAACV,EAAA,CAzCID,YAAY;AA2ClB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}